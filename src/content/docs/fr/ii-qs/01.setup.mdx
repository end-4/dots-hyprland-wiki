---
title: Installer / Mettre à jour / Désinstaller
layout: /src/layouts/autonum.astro
lastUpdated: 2025-10-14
---

# Installation
:::caution[Avant de commencer]
- **Seule la personnalisation au niveau utilisateur** est fournie. Vous êtes responsable des autres logiciels/configurations pour les fonctionnalités de base de votre système.
- **Il n'est pas nécessaire de réinstaller votre système.**
:::

:::note[Support des distributions]
- Automatisé : voir la section [Installation automatisée](#installation-automatisée) ci-dessous.
- Manuel : voir la section [Installation manuelle](#installation-manuelle) ci-dessous.
- Forks : voir la section [Forks](#forks) ci-dessous.
:::

:::tip[Migration depuis la version AGS]
*Ignorez ceci si vous n'utilisez pas l'ancienne version AGS ou débrouillez-vous si vous n'utilisez pas Arch Linux*

La version Quickshell devrait fonctionner correctement après l'installation, mais vous pouvez désinstaller les anciens paquets avant d'installer les nouveaux :

```sh
sudo pacman -Rs $(pacman -Q | grep "illogical-impulse-" | awk '{print $1}')
```

puis effectuez l'installation.
:::

## Installation automatisée
:::note[Support des distributions]
- **Officiellement supportées :**
  - Arch Linux
    - [clsty](https://github.com/clsty) (le développeur des scripts d'installation) utilise et recommande Arch Linux : "L'Arch Linux vanilla fonctionne tout simplement. EndeavourOS est aussi OK car il utilise presque les mêmes dépôts de paquets (sauf [celui-ci](https://github.com/endeavouros-team/repo)) qu'Arch Linux."
  - EndeavourOS
    - [end-4](https://github.com/end-4) (le développeur des dotfiles) utilise et recommande EndeavourOS : "Vous n'êtes pas obligé, mais cela rend les choses beaucoup plus faciles comparé à l'Arch normal."
- **Partiellement supportées :**
  - Autres distributions Arch(-based), comme CachyOS, Manjaro, etc.
    - Ces distributions utilisent des dépôts de paquets différents d'Arch Linux, il est donc possible que les choses ne fonctionnent pas comme prévu.
    - Nous recommandons particulièrement d'éviter Manjaro car il a une compatibilité relativement faible avec AUR.
- **Fournies par la communauté :**
  - Gentoo (voir [dist-gentoo/README.md](https://github.com/end-4/dots-hyprland/blob/main/dist-gentoo/README.md) pour les détails).
:::

:::caution[PR souhaitées pour d'autres distributions]
`install.sh` est maintenant conçu pour sélectionner automatiquement la distribution,
et nous avons besoin d'aide pour supporter d'autres distributions.

Voir [cette page](../../dev/inst-script/#help-wanted) pour les détails.
:::

Exécutez simplement cette ligne :
```bash
bash <(curl -s https://ii.clsty.link/get)
```
C'est tout !
- Suivez les instructions jusqu'à ce que ce soit terminé.
- Ce que ça fait c'est cloner le dépôt vers `~/.cache/dots-hyprland` et faire `cd` là puis exécuter `./install.sh`. Alternativement, vous pouvez faire ceci manuellement :
  ```bash
  cd ~/Downloads # ou où vous voulez
  git clone https://github.com/end-4/dots-hyprland
  cd dots-hyprland
  ./install.sh
  ```

:::note[Domaine changé]
Vous avez peut-être remarqué que le domaine de ce wiki (avec le script ci-dessus) a changé de `end-4.github.io` à `ii.clsty.link`. Cela vous donne un lien plus court à taper au cas où vous le feriez depuis un tty, et le contenu est toujours servi par GitHub Pages. Si vous ajoutez le flag `-L` à la commande `curl` ci-dessus et utilisez le lien `https://end-4.github.io/dots-hyprland-wiki/setup` cela marcherait aussi. Plus d'infos sur [issue#28](https://github.com/end-4/dots-hyprland-wiki/issues/28).
:::

:::tip[Utiliser install.sh]
Le script `./install.sh` est idempotent et interactif.

Vous pouvez toujours le ré-exécuter et choisir de n'effectuer que certaines actions.

C'est utile quand vous voulez reprendre une tentative échouée ou mettre à jour.
:::

:::tip[Cloner vers un chemin différent]
Pour cloner ailleurs, ajoutez simplement le chemin, par exemple
```bash
bash <(curl -s https://ii.clsty.link/get) ~/Downloads/dots-hyprland
```
:::

## Forks
Les liens suivants concernent les forks communautaires pour d'autres distributions.
:::caution
- Ils ont été créés à l'ancienne époque où les scripts d'installation ne supportaient pas les distributions non-Arch.
- Certains d'entre eux sont pour l'ancienne illogical-impulse sur AGS.
:::

- NixOS
  - Voir [discussion #1093](https://github.com/end-4/dots-hyprland/discussions/1093)
- OpenSUSE
  - Voir [discussion #485](https://github.com/end-4/dots-hyprland/discussions/485)
- Fedora
  - Voir [EisregenHaha/fedora-hyprland](https://github.com/EisregenHaha/fedora-hyprland)
  - Voir aussi (discussion plus ancienne) : [discussion #840](https://github.com/end-4/dots-hyprland/discussions/840)
  
## Installation manuelle
Support des distributions : basiquement toute distribution.

:::caution
Cette section n'existe que pour la démonstration. 

Il est fortement déconseillé de l'utiliser, car cela peut vous faire perdre beaucoup de temps.
:::

### Cloner et aller dans le répertoire

```bash
t=~/.cache/dots-hyprland   # Ne salissons pas votre dossier home
git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
cd "$t"
```

### Installer les dépendances
Pour les distributions Arch(-based) :
- Installez tous les paquets listés comme valeur du tableau `depends` dans ces `./dist-arch/*/PKGBUILD`. Utilisez juste un helper AUR comme `yay`.
  - Vous pouvez aussi installer des alternatives appropriées que vous avez trouvées.

Pour les distributions non-Arch :
- Trouvez les équivalents des paquets que `dist-arch/install-deps.sh` a installé. Ils proviennent principalement de la valeur du tableau `depends` dans ces `./dist-arch/*/PKGBUILD`, puis installez-les.
- Pour obtenir des infos sur un paquet (par exemple quels exécutables il fournit), cherchez-le sur [Arch Linux Packages](https://archlinux.org/packages) ou l'[AUR](https://aur.archlinux.org/packages).
- `dist-fallback/install-deps.sh` contient aussi quelques fonctions d'installation pour certaines dépendances comme alternative, qui ne sont pas spécifiques à une distribution mais hors du contrôle du gestionnaire de paquets système. Mieux vaut éviter de les utiliser si possible.
- Si vous avez réussi à terminer l'installation sur une distribution Linux non-Arch(-based), vous pouvez créer un répertoire `install-<DISTRO_ID>/` et soumettre une PR. Pour les détails voir [cette page](../../dev/inst-script/#help-wanted).
  - Exécutez `./diagnose` pour obtenir la valeur actuelle de `<DISTRO_ID>` après `distro ID:`.

### Configurations pour permissions/services etc
Lisez le contenu de `dist-arch/install-setups.sh`.
- Si vous pensez que c'est bien, alors exécutez juste `./install -f --skip-alldeps --skip-allfiles` qui va exécuter ce script.
  - N'exécutez pas `dist-arch/install-setups.sh` directement car il est destiné à être sourcé par `install.sh`.
- Ou, exécutez les lignes de ce script manuellement avec vos modifications.

### Copier les fichiers de configuration
- Copiez `.config`, `.local` vers votre dossier home (vérifiez avant de faire ceci ou vous pourriez voir vos propres fichiers de config écrasés de manière indésirable)
- Ou, lisez `scriptdata/install-files.sh`.
  - Si vous pensez que c'est bien, alors exécutez juste `./install.sh --skip-alldeps --skip-allsetups` qui va exécuter ce script.
  - N'exécutez pas `scriptdata/install-files.sh` directement car il est destiné à être sourcé par `install.sh`.

### Terminer
- Une fois que c'est fait, connectez-vous à nouveau dans Hyprland.
  - `Ctrl`+`Super`+`T` pour sélectionner un fond d'écran.
  - `Super`+`/` pour une liste des raccourcis. Amusez-vous !

# Post installation
## Trucs pas si optionnels

### Prévenir les conflits de daemon de notification
- Des daemons de notification comme `dunst` et `mako` peuvent venir avec les personnalisations de votre distribution et peuvent interférer avec l'implémentation de Quickshell. Il est recommandé de les désinstaller si vous ne les utilisez pas ailleurs.

## Trucs optionnels

### Configurations supplémentaires

Voir si vous êtes intéressé par quelque chose dans le dossier `Extras`.

### Intégration média avec le navigateur

Si vous voulez que les miniatures média de votre navigateur soient affichées, installez l'extension "Plasma browser integration".
- Pour [Chromium](https://chrome.google.com/webstore/detail/plasma-integration/cimiefiiaegbelhefglklhhakcgmhkai)
- Pour [Firefox](https://addons.mozilla.org/en-US/firefox/addon/plasma-integration/)

### Colorscheme pour ZSH
Mettez cette ligne dans votre `~/.zshrc` pour supporter le colorscheme pour ZSH :
```bash
source ~/.config/zshrc.d/dots-hyprland.zsh
```

## Lancer Hyprland
- Pour lancer Hyprland, vous pouvez utiliser un DM (Display Manager) ou juste `tty`.
- Le wiki Hyprland recommande de lancer Hyprland avec la session gérée par uswm, mais nous non. Utiliser ceci ne casse pas les dotfiles, mais vous pourriez avoir des trucs auto-démarrés d'autres environnements de bureau (par exemple des dialogues d'authentification dupliqués)

Voir [Hyprland wiki](https://wiki.hypr.land/Getting-Started/Master-Tutorial/#launching-hyprland) pour les détails. Ci-dessous quelques astuces supplémentaires.

### Comment auto-lancer Hyprland après connexion sur `tty1` ?
Pour ZSH ou BASH, ajoutez cette ligne au **bas** de votre `~/.zshrc` ou `~/.bashrc` :
```bash
source ~/.config/zshrc.d/auto-Hypr.sh
```

Pour FISH, ajoutez cette ligne au **bas** de votre `~/.config/fish/config.fish` :
```fish
source ~/.config/fish/auto-Hypr.fish
```

P.S. Il est recommandé de désactiver le DM si vous voulez lancer Hyprland via tty.

### Je suis débutant. Qu'est-ce qu'un tty et DM ?

Voici une brève introduction pour vous donner un accès rapide, bien que **pas exactement vraie**.

Vous pouvez voir `tty` comme une "base" d'un système Linux.
Il y a normalement 7 `tty` : `tty1` à `tty7`. Vous pouvez appuyer sur `Ctrl+Alt+F<n>` pour basculer vers `tty<n>`, et taper votre nom d'utilisateur et mot de passe pour vous connecter.

Après vous être connecté, vous pouvez lancer un environnement graphique via une commande, par exemple `Hyprland`.
Communément, les interfaces graphiques peuvent être lancées seulement **après** que vous vous connectiez.

Mais que faire si nous voulons une interface graphique pour l'interface de connexion elle-même ?

Alors, voici le DM (Display Manager, aussi appelé "LM", c'est-à-dire Login Manager).
- Quelques DM communément utilisés :
  - `sddm` : Souvent utilisé avec KDE Plasma.
  - `gdm` : Souvent utilisé avec Gnome.
- Il est activé au niveau système, et se lance automatiquement après le démarrage du système (pas encore connecté).
  - Sur une distribution basée sur systemd, le DM est habituellement activé comme service systemd. Exécutez ce qui suit pour voir quel DM est activé.
    ```bash
    grep 'ExecStart=' /etc/systemd/system/display-manager.service
    ```
    Si ça retourne `No such file or directory`, alors aucun DM n'est activé, ou ce n'est pas une distribution basée sur systemd.
- Il vous fournit une interface graphique pour vous connecter et choisir l'environnement graphique (par exemple Hyprland).
  - Comment le DM sait-il quels environnements graphiques sont disponibles ?
    - Normalement, il cherche dans le chemin `/usr/share/xsessions` pour ceux X11, et `/usr/share/wayland-sessions` pour ceux Wayland.
    - Les fichiers desktop sous ces répertoires contiennent les informations des environnements graphiques.

# Mise à jour
- `cd` dans le répertoire du dépôt
- Exécutez `git pull` pour récupérer les derniers changements.
- Exécutez `./install.sh` à nouveau
  - Ignorez les étapes que vous ne voulez pas (surtout celles `rsync ...` car elles vont **écraser vos fichiers sous leur chemin cible**).
    Typiquement vous pourriez vouloir l'étape `rsync` qui implique `.config/quickshell`.

:::tip
Exécutez `./install.sh -h` pour voir plus d'usages.
:::

:::caution[Si vous avez installé manuellement]
Bien que fortement déconseillé, si vous avez installé manuellement, alors :
- `cd` vers le répertoire du dépôt
- Exécutez `git pull` pour récupérer les derniers changements.
- Récupérez les fichiers que vous voulez. Typiquement vous pourriez vouloir récupérer le dossier `.config/quickshell`.
:::

# Désinstallation

:::note[État actuel]
Puisque nous utilisons maintenant des PKGBUILDs locaux pour les distributions Arch(-based), 
le `uninstall.sh` est capable d'une désinstallation appropriée pour les paquets Arch/AUR, 
mais supprimer les fichiers de configuration n'est toujours pas parfait.

Voir aussi https://github.com/end-4/dots-hyprland/issues/838#issuecomment-2406220007
:::

- Vous pouvez essayer d'utiliser `uninstall.sh`, mais ce n'est pas parfait et pas activement maintenu.
- Astuce de désinstallation manuelle pour Arch Linux :
  - Exécutez `pacman -Q | grep illogical-impulse` pour une liste des paquets que les dotfiles nécessitent
  - Exécutez `yay -Rs PACKAGE_NAME` pour chaque paquet de la commande ci-dessus
- Voici une longue explication si ça vous intéresse :

> Le point est que ce dépôt n'est pas un "logiciel" typique, mais un ensemble de configurations,
> donc c'est très difficile de faire un script de désinstallation approprié,
> qui devrait annuler tous les changements faits par le script d'installation.
> 
> Par exemple, le script d'installation va installer `yay` (AUR-helper) pour vous si vous n'en avez pas.
> Cependant, que devrait faire le script de désinstallation pour annuler ces changements ?
> - Supprimer `yay` ou `yay-bin` ? Pas approprié, car vous pourriez déjà en avoir un installé par vous-même (pas par le script d'installation).
> - Même si le script d'installation avait enregistré la liste des paquets installés par le script, ce n'est toujours pas approprié de supprimer `yay` ou `yay-bin` quand le log montre que `yay` ou `yay-bin` est installé par le script, car le script ne peut pas enregistrer son futur, et vous pourriez avoir réinstallé `yay` ou `yay-bin` un autre jour après que le script d'installation soit terminé, donc ils ne sont en fait plus installés par le script d'installation.
> 
> En conclusion, il n'est presque pas possible d'écrire un script de désinstallation approprié.
> Vous feriez mieux de faire les changements annulés manuellement selon vos besoins.
