---
title: Вирішення проблем
layout: /src/layouts/autonum.astro
lastUpdated: 2025-05-18
---

:::tip[Порада]
На цій сторінці натисніть `Ctrl`+`F` для пошуку або подивіться на праву бічну панель, щоб знайти свою проблему
:::

# Обов'язково до прочитання
## Віртуальне середовище Python

Змінна середовища `$ILLOGICAL_IMPULSE_VIRTUAL_ENV` повинна бути встановлена належним чином, інакше деякі функції конфігурації Quickshell не працюватимуть. У наданій конфігурації за замовчуванням, `~/.config/hypr/hyprland/env.conf`, яка підключається `~/.config/hypr/hyprland.conf`, вже містить цю змінну середовища.

Якщо з якихось причин її там немає, додайте наступне до вашої конфігурації Hyprland і перезапустіть її
```ini
env = ILLOGICAL_IMPULSE_VIRTUAL_ENV, $XDG_STATE_HOME/quickshell/.venv
```

Ви можете запустити `./diagnose`, щоб перевірити значення

### Очікуваний приклад
```
[===diagnose===] declare -p ILLOGICAL_IMPULSE_VIRTUAL_ENV
declare -x ILLOGICAL_IMPULSE_VIRTUAL_ENV="/home/myself/.local/state/quickshell/.venv"
[---SUCCESS---]
```
Де `myself` представляє фактичне ім'я користувача.

### Неочікуваний приклад 1
```
[===diagnose===] declare -p ILLOGICAL_IMPULSE_VIRTUAL_ENV
./diagnose: line 30: declare: ILLOGICAL_IMPULSE_VIRTUAL_ENV: not found
[---EXIT 1---]
```
У наведеному вище випадку:
- Дуже ймовірно, що ви все ще використовуєте старий `~/.config/hypr/hyprland.conf` і забули замінити його вміст на `~/.config/hypr/hyprland.conf.new`. Просто виконайте `cd ~/.config/hypr;mv hyprland.conf{,.old};mv hyprland.conf{.new,}`.
- Переконайтеся, що ви перезапустили Hyprland.

### Неочікуваний приклад 2
```
[===diagnose===] declare -p ILLOGICAL_IMPULSE_VIRTUAL_ENV
declare -x ILLOGICAL_IMPULSE_VIRTUAL_ENV="\$XDG_STATE_HOME/quickshell/.venv"
[---SUCCESS---]
```
У наведеному вище випадку `$XDG_STATE_HOME` не розширюється, що здається дуже дивним (можливо, помилка Hyprland?).
- Переконайтеся, що під час запуску `install.sh` ви не пропустили і правильно виконали `install-python-packages()`, що має дати вам непустий `~/.local/state/quickshell/.venv`.
- Ви можете безпосередньо вказати його значення в `~/.config/hypr/custom/env.conf` як:
```conf
env = ILLOGICAL_IMPULSE_VIRTUAL_ENV, /home/myself/.local/state/quickshell/.venv
```
І не забудьте замінити `myself` на фактичне ім'я користувача.

## Речі, які варто спробувати хоча б раз
- Перезапустіть Hyprland або перезавантажте систему, що необхідно для застосування змін змінних середовища.
- Повторний запуск `install.sh`, щоб переконатися, що все встановлено правильно. Оскільки скрипт є ідемпотентним, ви можете запускати його скільки завгодно, щоб перевірити речі або оновити дотфайли.

## Як отримати логи
- Якщо виникла проблема, відкрийте термінал (`Super`+`Enter`) і запустіть її. Шукайте помилки/попередження, які можуть бути проблематичними.
- Панель та інші елементи оболонки працюють на Quickshell (ЦЕ НЕ WAYBAR 😭). Якщо з ними щось не так, виконайте в терміналі наступне: `pkill qs; qs -c ii`.

## Допомога

1. Пошукайте на цій сторінці, потім в [issues](https://github.com/end-4/dots-hyprland/issues) та [discussions](https://github.com/end-4/dots-hyprland/discussions).
2. Якщо ви нічого не можете знайти, відкрийте нове обговорення.

Хоча @end-4 найбільш активний у Discord (@end_4), перевага надається GitHub, оскільки @clsty краще розуміє скрипт встановлення та проблеми, пов'язані з Arch Linux.

# Поширені проблеми
## Теми виглядають неправильно

Змініть шпалери, натиснувши `Super+Ctrl+T` і вибравши зображення у вікні, що з'явилося. Якщо це не спрацює, виконайте `~/.config/quickshell/scripts/switchwall.sh` у терміналі, виконайте ту ж процедуру, подивіться логи і з'ясуйте проблему самостійно або надішліть її в issue/discussion.

## Іконка деяких додатків відсутня в доці/огляді

Технічно неможливо мати ідеальні іконки. Іконки вгадуються з класу кожного додатка, який не обов'язково є назвою його іконки.

Можливі рішення:
### Додатки GTK: Використовуйте `gsettings` для встановлення теми іконок

Можливо, іконка вашого додатка недоступна в стандартному пакеті іконок. У такому випадку ви можете змінити його на інший.

Наприклад, ви можете використовувати [Papirus](https://github.com/PapirusDevelopmentTeam/papirus-icon-theme).
Він не використовується за замовчуванням через переваги @end-4, але має дуже хороше покриття додатків.

```sh
gsettings set org.gnome.desktop.interface icon-theme Papirus
```

Звичайно, ви повинні спочатку встановити його, для Arch Linux використовуйте `sudo pacman -S papirus-icon-theme`.

### Додатки Qt: Редагуйте конфігурацію kde-material-you-colors

Відкрийте `~/.config/kde-material-you-colors/config.conf`
Знайдіть ці рядки та відредагуйте на свій смак
```ini
# ...
iconslight = breeze-plus
# ...
iconsdark = breeze-plus-dark
```

## Елементи керування музикою не відображаються

> Довідка: [end-4/dots-hyprland#168](https://github.com/end-4/dots-hyprland/issues/168) (Примітка: Стара проблема для версії AGS)

- Переконайтеся, що ваш плеєр має підтримку Mpris (ось список: [MPRIS - Arch Wiki](https://wiki.archlinux.org/title/MPRIS))
- Якщо це браузер, встановіть розширення Plasma Integration:
  - [Firefox](https://addons.mozilla.org/en-US/firefox/addon/plasma-integration/)
  - [Chromium](https://chrome.google.com/webstore/detail/plasma-integration/cimiefiiaegbelhefglklhhakcgmhkai)

Переконайтеся, що пакет `plasma-browser-integration` (для Arch, з'ясуйте відповідний пакет самостійно, якщо не на Arch) встановлено.

Потім, коли firefox відтворює медіа, наступна команда
```bash
dbus-send --print-reply --dest=org.freedesktop.DBus /org/freedesktop/DBus org.freedesktop.DBus.ListNames|grep mpris
```
вихід повинен включати
```plain
string "org.mpris.MediaPlayer2.plasma-browser-integration"
```
Працюватимуть лише імена "plasma-browser-integration". інші ні.

Якщо з якихось причин firefox все ще не має dbus `org.mpris.MediaPlayer2.plasma-browser-integration`,
розгляньте наступні кроки:
1. Створіть новий профіль за допомогою `firefox --ProfileManager`.
2. Запустіть firefox з новим профілем і знову встановіть розширення Plasma Integration.
3. Перезапустіть firefox з новим профілем і спробуйте ще раз.
- _Примітка: `playerctl -F metadata` також може бути корисним для налагодження._

## Замість іконок відображаються дивні назви іконок
- Переконайтеся, що встановлено шрифт Material Symbols (не Material Icons).
  - На Arch використовуйте пакет `ttf-material-symbols-variable-git`
  - Якщо у вашому дистрибутиві немає пакета для нього, встановіть вручну:
    - Завантажте файли .ttf з [репозиторію Material Symbols](https://github.com/google/material-design-icons/tree/master/variablefont)
    - Помістіть їх у `~/.local/share/fonts`
    - Оновіть кеш шрифтів за допомогою `fc-cache -fv`
    - Перезапустіть оболонку за допомогою `Ctrl`+`Super`+`R`

## `loginctl lock-session` нічого не робить
> Довідка: [end-4/dots-hyprland#278](https://github.com/end-4/dots-hyprland/issues/278)

Згідно з [цим постом на форумах Arch Linux](https://bbs.archlinux.org/viewtopic.php?pid=1311990#p1311990):
> Щось має слухати сигнали dbus systemd-logind, щоб це працювало.

Hypridle здатний бути цим "чимось", що означає, що ви повинні переконатися, що він запущений,
і тоді `loginctl lock-session` надішле сигнал до hypridle,
в результаті hypridle заблокує екран, виконавши `$lock_cmd`, визначений у його конфігурації `~/.config/hypr/hypridle.conf`.

Дивіться [Hyprland Wiki](https://wiki.hyprland.org/Hypr-Ecosystem/hypridle/#configuration) для отримання додаткової інформації.

## Термінал Foot: Чому я не можу перервати за допомогою Ctrl+C?
- У `foot` Ctrl+C налаштовано на копіювання тексту. Щоб перервати, використовуйте Ctrl+Shift+C
- Не хочете цього?
  - Щоб видалити цю прив'язку: у `~/.config/foot/foot.ini` закоментуйте або видаліть рядок, який говорить `clipboard-copy=Control+c`
  - Можливо, якщо ви часто використовуєте термінальні додатки, було б гарною ідеєю використовувати більш функціональний термінал.