---
title: Встановлення / Оновлення / Видалення
layout: /src/layouts/autonum.astro
lastUpdated: 2025-03-31
---

# Встановлення
## Перш ніж ми почнемо

- Надається **лише налаштування на рівні користувача**. Ви несете відповідальність за інше програмне забезпечення/конфігурацію для базової функціональності вашої системи.
- **Підтримка дистрибутивів**
  - Наданий скрипт встановлення працює для дистрибутивів на базі Arch Linux.
  - Для інших дистрибутивів дивіться нижче (Примітка: на момент написання це інструкції для версії AGS, а не для версії Quickshell, але вони можуть бути корисними).
  - end-4 використовує та рекомендує EndeavourOS. Ви не зобов'язані, але це значно полегшує роботу порівнян�� зі звичайним Arch.
- **Не обов'язково перевстановлювати систему**

## Міграція з версії AGS

*Пропустіть цей крок, якщо ви не використовуєте стару версію AGS або розберіться самостійно, якщо не використовуєте Arch*

Версія Quickshell повинна працювати нормально після встановлення, але ви можете видалити старі пакунки перед встановленням нових:

```sh
pacman -Q | grep ^illogical-impulse- | awk '{print $1}' | xargs sudo pacman -Rsn --
```

потім виконайте встановлення

## Автоматичне встановлення (лише для дистрибутивів на базі Arch)

**Рекомендований метод**

Виконайте цей рядок і дотримуйтесь підказок:
```bash
bash <(curl -s "https://end-4.github.io/dots-hyprland-wiki/setup.sh")
```
Вищевказана команда клонує репозиторій до `~/.cache/dots-hyprland`. Щоб змінити це місце, вкажіть шлях як інший аргумент.

:::note[Альтернативний метод]
Якщо ви хочете ввести коротше посилання
```bash
cd ~/Downloads # будь-яке місце
git clone https://github.com/end-4/dots-hyprland
cd dots-hyprland
./install.sh
```
:::

:::tip[Порада]
Скрипт `install.sh` є ідемпотентним та інтерактивним:
Ви завжди можете повторно запустити його і вибрати лише певні дії.
Корисно, коли ви хочете відновити невдалу спробу або оновити.
:::

## NixOS (спільнота)
- Наразі ці дотфайли (ще?) не пропонуються як flake.
- Дивіться відповідне [обговорення #1093](https://github.com/end-4/dots-hyprland/discussions/1093)


## OpenSUSE (спільнота)
- Дивіться [обговорення #485](https://github.com/end-4/dots-hyprland/discussions/485)

## Fedora (спільнота)
- Дивіться [EisregenHaha/fedora-hyprland](https://github.com/EisregenHaha/fedora-hyprland)
- Дивіться також (старіше обговорення): [обговорення #840](https://github.com/end-4/dots-hyprland/discussions/840)
  
## Ручне встановлення (практично будь-який дистрибутив)
:::note[Примітка для дистрибутивів не на базі Arch]
Вам доведеться знайти еквіваленти пакунків зі значень масивів `depends` у файлах `scriptdata/arch-packages/*/PKGBUILD` пізніше, коли ви будете встановлювати залежності.
- Щоб отримати інформацію про пакунок (наприклад, які виконувані файли він надає), знайдіть його на [Arch Linux Packages](https://archlinux.org/packages) або в [AUR](https://aur.archlinux.org/packages).
- Якщо ви успішно завершили встановлення на якомусь дистрибутиві Linux, що не базується на Arch, ви можете поділитися списком пакунків (та іншими кроками, якщо потрібно) в [Обговореннях](https://github.com/end-4/dots-hyprland/discussions), і ми зможемо автоматизувати встановлення для нього в майбутньому. Дякуємо!
:::

- Клонуйте та перейдіть до каталогу
  ```bash
  t=~/.cache/dots-hyprland   # Не будемо засмічувати вашу домашню теку
  git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
  cd "$t"
  ```
- Отримайте пакунки: Встановіть усі пакунки, перелічені як значення масиву `depends` у файлах `scriptdata/arch-packages/*/PKGBUILD`. Для Arch Linux просто використовуйте помічник AUR, наприклад `yay`.

- Запустіть `manual-install-helper.sh`, щоб встановити решту залежностей.
  - Ви також можете встановити відповідні альтернативи, які ви знайшли.
- Додайте користувача до груп `video` та `input`
  ```bash
  sudo usermod -aG video,input "$(whoami)" # якщо це чомусь не працює, просто замініть "$(whoami)" на ваше ім'я користувача
  ```
- Скопіюйте `.config`, `.local` до вашої домашньої теки (перегляньте перед цим, інакше ваші власні файли конфігурації можуть бути небажано перезаписані)

- Після завершення знову увійдіть до Hyprland
  - `Ctrl`+`Super`+`T` для вибору шпалер
  - `Super`+`/` для списку комбінацій клавіш. Розв��жайтеся!

# Після встановлення
## Не зовсім необов'язкові речі

### Запобігання конфліктам демонів сповіщень
- Демони сповіщень, такі як `dunst` та `mako`, можуть постачатися з налаштуваннями вашого дистрибутива і можуть заважати реалізації Quickshell. Рекомендується видалити їх, якщо ви не використовуєте їх деінде.

## Необов'язкові речі

### Додаткові конфігурації

Подивіться, чи вас щось зацікавить у теці `Extras`.

### Інтеграція медіа з браузером

Якщо ви хочете, щоб відображалися мініатюри медіа з вашого браузера, встановіть розширення "Plasma browser integration".
- Для [Chromium](https://chrome.google.com/webstore/detail/plasma-integration/cimiefiiaegbelhefglklhhakcgmhkai)
- Для [Firefox](https://addons.mozilla.org/en-US/firefox/addon/plasma-integration/)

### Кольорова схема для ZSH
Додайте цей рядок до вашого `~/.zshrc`, щоб підтримувати кольорову схему для ZSH:
```bash
source ~/.config/zshrc.d/dots-hyprland.zsh
```

## Запуск Hyprland
- Щоб запустити Hyprland, ви можете використовувати DM (Display Manager) або просто `tty`.
- Hyprland wiki рекомендує запускати Hyprland із сесією, керованою uswm, але ми цього не робимо. Використання цього не порушує дотфайли, але ви можете отримати автоматично запущені непотрібні програми з інших робочих середовищ (наприклад, дублікати діалогових вікон автентифікації).

Дивіться [Hyprland wiki](https://wiki.hyprland.org/Getting-Started/Master-Tutorial/#launching-hyprland) для деталей. Нижче наведено деякі додаткові підказки.

### Як автоматично запускати Hyprland після входу в `tty1`?
Для ZSH або BASH додайте цей рядок в **кінець** вашого `~/.zshrc` або `~/.bashrc`:
```bash
source ~/.config/zshrc.d/auto-Hypr.sh
```

Для FISH додайте цей рядок в **кінець** вашого `~/.config/fish/config.fish`:
```fish
source ~/.config/fish/auto-Hypr.fish
```

P.S. Рекомендується вимкнути DM, якщо ви хочете запускати Hyprland через tty.

### Я новачок. Що таке tty та DM?

Ось короткий вступ, щоб дати вам швидкий доступ, хоча й не зовсім точний.

Ви можете розглядати `tty` як певну "основу" системи Linux.
Зазвичай є 7 `tty`: від `tty1` до `tty7`. Ви можете натиснути `Ctrl+Alt+F<n>`, щоб перейти до `tty<n>`, і ввести своє ім'я користувача та пароль для входу.

Після входу ви можете запустити графічне середовище за допомогою команди, наприклад, `Hyprland`.
Насправді, більшість графічних інтерфейсів можна запустити лише **після** входу.

Але що, якщо ми хочемо графічний інтерфейс для самого інтерфейсу входу?

Отже, тут з'являється DM (Display Manager, також званий "LM", тобто Login Manager).
- Деякі часто використовувані DM:
  - `sddm`: Часто використовується з KDE Plasma.
  - `gdm`: Часто використовується з Gnome.
- Він вмикається на системному рівні і запускається автоматично після завантаження системи (ще до входу).
  - У дистрибутиві на базі systemd DM зазвичай вмикається як служба systemd. Виконайте наступне, щоб побачити, який DM увімкнено.
    ```bash
    grep 'ExecStart=' /etc/systemd/system/display-manager.service
    ```
    Якщо повертається "No such file or directory", то DM не увімкнено, або це не дистрибутив на базі systemd.
- Він надає вам графічний інтерфейс для входу та вибору графічного середовища (наприклад, Hyprland).
  - Звідки DM знає, які графічні середовища доступні?
    - Зазвичай він шукає в шляху `/usr/share/xsessions` для X11 та `/usr/share/wayland-sessions` для Wayland.
    - Файли робочого столу в цих каталогах містять інформацію про графічні середовища.

# Оновлення
## Якщо ви використовували скрипт
- `cd` до каталогу репозиторію
- Виконайте `git pull`, щоб отримати останні зміни.
- Запустіть `./install.sh` знову
  - Пропустіть кроки, які ви не хочете (особливо ті, що з `rsync ...`, оскільки це **перезапише ваші файли за цільовим шляхом**).
    Зазвичай вам може знадобитися крок `rsync`, який включає `.config/quickshell`.

Виконайте `./install.sh -h`, щоб побачити більше варіантів використання.
## Якщо ви встановлювали вручну
- `cd` до каталогу репозиторію
- Виконайте `git pull`, щоб отримати останні зміни.
- Візьміть потрібні файли. Зазвичай вам може знадобитися тека `.config/quickshell`.
- Запустіть `manual-install-helper.sh`, щоб оновити деякі залежності.

# Видалення

:::note[Поточний стан]
Оскільки ми зараз використовуємо локальні PKGBUILD для дистрибутивів на базі Arch,
`uninstall.sh` здатний на відповідне видалення для пакунків Arch/AUR,
але видалення файлів конфігурації все ще не ідеальне.

Дивіться також https://github.com/end-4/dots-hyprland/issues/838#issuecomment-2406220007
:::

- Ви можете спробувати використати `uninstall.sh`, але він не ідеальний і не підтримується активно.
- Підказка щодо ручного видалення для Arch Linux:
  - Виконайте `pacman -Q | grep illogical-impulse`, щоб отримати список пакунків, які вимагають дотфайли
  - Виконайте `yay -Rs PACKAGE_NAME` для кожного пакунка з наведеної вище команди
- Ось довге пояснення, якщо вам цікаво:

> Справа в тому, що цей репозиторій не є типовим "програмним забезпеченням", а набором конфігурацій,
> тому дуже важко створити належний скрипт видалення,
> який повинен скасувати всі зміни, зроблені скриптом встановлення.
> 
> Наприклад, скрипт встановлення встановить для вас `yay` (помічник AUR), якщо у вас його немає.
> Однак, що повинен зробити скрипт видалення, щоб скасувати ці зміни?
> - Видалити `yay` або `yay-bin`? Неправильно, тому що ви, можливо, вже встановили один з них самостійно (не за допомогою скрипта встановлення).
> - Навіть якби скрипт встановлення залогував список пакунків, встановлених скриптом, все одно неправильно видаляти `yay` або `yay-bin`, коли лог показує, що `yay` або `yay-bin` встановлено скриптом, тому що скрипт не може залогувати своє майбутнє, і ви могли перевстановити `yay` або `yay-bin` іншого дня після завершення роботи скрипта встановлення, тому вони фактично більше не встановлені скриптом встановлення.
> 
> На закінчення, майже неможливо написати належний скрипт видалення.
> Краще скасовувати зміни вручну за потребою.